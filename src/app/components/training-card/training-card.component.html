<app-filtering
  *ngIf="showFilter"
  [filterOptions]="filterOptions"
  [selectedFilter]="selectedFilter"
  (filterChange)="onFilterChange($event)"
></app-filtering>

<article
  *ngFor="let routine of filteredRoutines"
  class="training-card background-neutral-light"
>
  <a
    [routerLink]="['/yin-style-yoga/routine', routine.slug]"
    [attr.aria-label]="'View details for ' + routine?.name"
  >
    <ng-container
      [ngSwitch]="headingLevel"
      class="margin-top-0 margin-bottom-32"
    >
      <h2 *ngSwitchCase="'h2'">
        {{ routine.name }}
      </h2>
      <h3 *ngSwitchCase="'h3'">
        {{ routine.name }}
      </h3>
    </ng-container>

    <div class="flex-container">
      <div class="flex-item">
        <time class="icon-setup" [attr.datetime]="'PT' + routine?.time + 'M'">
          <i class="material-icons" aria-hidden="true">schedule</i>
          {{ routine?.time }} minutes
        </time>

        <p class="bold margin-top-24 margin-bottom-4">Target Areas</p>
        <p class="pill margin-bottom-0">{{ routine.targetAreas }}</p>
        <p class="bold margin-top-24 margin-bottom-4">Description</p>
        <p>{{ routine.description }}</p>
      </div>

      <div class="flex-item">
        <picture *ngIf="routine?.image">
          <source [srcset]="getWebpImage(routine.image)" type="image/webp" />
          <img
            class="radius-l box-shadow-s w-100"
            [src]="routine?.image"
            alt=""
          />
        </picture>
      </div>
    </div>
  </a>
</article>
